<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Charisse Writes  | Up and Running with Webpack</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.49.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.e08a958ae3e530145318b6373195c765.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="Up and Running with Webpack" />
<meta property="og:description" content="One of the most important things you have to have in your toolkit these days is the ability to use Webpack — and for a good reason. Webpack is a module bundler. It takes your assets — your JS files, CSS, images, etc — and outputs it as a single file, saving you with tons of trips back and forth from the server.
I gotta admit, the first time I’ve set up my own Webpack configuration file, I was pretty stoked and nervous and overwhelmed at the same time." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.charisseysabel.com/post/2017-07-03-up-and-running-with-webpack/" /><meta property="article:published_time" content="2017-07-03T09:34:24&#43;00:00"/>
<meta property="article:modified_time" content="2017-07-03T09:34:24&#43;00:00"/>

<meta itemprop="name" content="Up and Running with Webpack">
<meta itemprop="description" content="One of the most important things you have to have in your toolkit these days is the ability to use Webpack — and for a good reason. Webpack is a module bundler. It takes your assets — your JS files, CSS, images, etc — and outputs it as a single file, saving you with tons of trips back and forth from the server.
I gotta admit, the first time I’ve set up my own Webpack configuration file, I was pretty stoked and nervous and overwhelmed at the same time.">


<meta itemprop="datePublished" content="2017-07-03T09:34:24&#43;00:00" />
<meta itemprop="dateModified" content="2017-07-03T09:34:24&#43;00:00" />
<meta itemprop="wordCount" content="1758">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Up and Running with Webpack"/>
<meta name="twitter:description" content="One of the most important things you have to have in your toolkit these days is the ability to use Webpack — and for a good reason. Webpack is a module bundler. It takes your assets — your JS files, CSS, images, etc — and outputs it as a single file, saving you with tons of trips back and forth from the server.
I gotta admit, the first time I’ve set up my own Webpack configuration file, I was pretty stoked and nervous and overwhelmed at the same time."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-light-yellow">
      <nav class="pv3 ph3 ph4-ns bg-white" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://www.charisseysabel.com/" class="f3 fw4 black no-underline white-90 dib">
      Charisse Writes
    </a>
    <div class="flex-l items-center">
      
      









    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7 bg-white" role="main">
      
  <article class="flex-l flex-wrap justify-between mw8 center ph3 ph0-l">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">Up and Running with Webpack</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2017-07-03T09:34:24Z">July 3, 2017</time>
    </header>

    <main class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l">

<p>One of the most important things you have to have in your toolkit these days is the ability to use <a href="https://webpack.js.org/">Webpack</a> — and for a good reason. Webpack is a module bundler. It takes your assets — your JS files, CSS, images, etc — and outputs it as a single file, saving you with tons of trips back and forth from the server.</p>

<p>I gotta admit, the first time I’ve set up my own Webpack configuration file, I was pretty stoked and nervous and overwhelmed at the same time. But its important to know that Webpack is just another javascript file. It’s just a configuration file that you set up and run on the command line that will automatically does what you tell it to do. It is incredibly powerful, so its worth investing some time learning it.</p>

<p>In this post, we’ll set up a basic webpack configuration file.</p>

<h2 id="install-node-and-npm">Install Node and NPM</h2>

<p>To get started, we have to install <a href="https://nodejs.org/en/">Node.js</a> first. Node.js (or simply called “Node”) is an API that allows you to use Javascript on the server. We need to install it so that we can access <a href="https://www.npmjs.com/">NPM</a> (or Node Package Manager). According to the Node.js website, NPM is the largest ecosystem of open source libraries in the world — and that includes Webpack. If you’re pulling your hair out trying to implement a solution for your problem, look around in the npm website; a library might already exist that solves the same problem that you have.
NPM comes with the Node.js installer but make sure that you have the latest stable version of npm:</p>

<p><code>sudo npm install npm@latest -g</code>
(You might have to omit “sudo” if you’re using Windows)
Note: the <code>-g</code> flag allows you to install npm “globally”, meaning you don’t need to install it again if you create another project because its readily available in your machine. Omitting the flag only installs it in the local folder where you ran the command.</p>

<p>To check the version of npm that you have, run <code>npm -v</code> and, <code>​node -v</code> to check the version of node. At the time of this writing, I’m using v5.0.3 of NPM and v8.1.2 of Node.</p>

<h4 id="create-your-package-json-file">Create your package.json file</h4>

<p>Once you’re in your project folder, run (<code>npm init</code>)[<a href="https://docs.npmjs.com/cli/init">https://docs.npmjs.com/cli/init</a>]
This creates a file called <code>package.json</code> for you. It will ask you a bunch of questions about your project but you can just simply skip through them by pressing enter. Alternatively, you can skip the questions entirely by adding the <code>-y || --yes</code> flag.</p>

<p>So what exactly is a <code>package.json</code> file? Imagine that you want to upload your work on GitHub or you simply want to distribute your app. It doesn’t make sense to upload all your app’s dependencies* on GitHub because that can be a ridiculously huge list and you don’t want other developers to manually install those dependencies themselves. What <code>package.json</code> does is that it helps you keep track of your application’s dependencies. You can then upload this single file to GitHub and anyone who wants to run your application locally can just refer to it and run a simple <code>npm install</code> to install everything in one go.</p>

<p>*Dependencies are files or libraries that your app “depend” on. Like, it literally can’t run without it. If you used jquery in your code, then you could say that you have jquery as a dependency. Numerous libraries these days depend on other libraries to work properly, so its always nice just to be able to skip the headache of managing those manually.</p>

<h2 id="install-webpack">Install webpack</h2>

<p>Next we install Webpack:
<code>npm install --save-dev webpack</code>
Using the <code>--save-dev</code> flag allows you to save it in your <code>package.json</code> under the devDependencies object.</p>

<p>The very first dependency that you install will always create a node_modules folder in your project’s root folder. In this folder, you will find webpack and all the other libraries that it depends on (and its a LOT!). Every other libraries that you install via NPM will be dumped here from now on.</p>

<p>This is how our folder structure looks like so far:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">root</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span> <span style="color:#a6e22e">index</span>.<span style="color:#a6e22e">html</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span> <span style="color:#a6e22e">index</span>.<span style="color:#a6e22e">js</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span> <span style="color:#a6e22e">node_modules</span><span style="color:#960050;background-color:#1e0010">/</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span> <span style="color:#66d9ef">package</span><span style="color:#f92672">-</span><span style="color:#a6e22e">lock</span>.<span style="color:#a6e22e">json</span>
<span style="color:#f92672">|</span><span style="color:#a6e22e">_</span> <span style="color:#66d9ef">package</span>.<span style="color:#a6e22e">json</span>
</code></pre></div>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// index.js:
</span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#39;Hello World!&#39;</span>);
</code></pre></div>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">// typical copy-pasted index.html file
<span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X-UA-Compatible&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;IE=edge&#34;</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1&#34;</span>&gt;
    <span style="color:#75715e">&lt;!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --&gt;</span>
    <span style="color:#75715e">&lt;!--[if lt IE 9]&gt;
</span><span style="color:#75715e">      &lt;script src=&#34;https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e">      &lt;script src=&#34;https://oss.maxcdn.com/respond/1.4.2/respond.min.js&#34;&gt;&lt;/script&gt;
</span><span style="color:#75715e">    &lt;![endif]--&gt;</span>
    &lt;<span style="color:#f92672">title</span>&gt;Up and Running with Webpack&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;app&#39;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;</code></pre></div>

<h2 id="the-4-concepts-of-webpack">The 4 concepts of Webpack</h2>

<p>Now that we have Webpack installed, let’s start configuring it! You can check for the version of webpack that you&rsquo;re using by running npm list webpack on the terminal. At the time of writing, I&rsquo;m using v2.6.1.</p>

<p>Webpack has four main concepts: Entry, Output, Loaders, and Plugins. We’ll tackle them one by one.</p>

<h4 id="entry">Entry</h4>

<p>Start by creating a <code>webpack.config.js</code> and write the code below:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">webpack</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack&#39;</span>);
<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./path/to/entry/file.js&#39;</span>,
};
</code></pre></div></p>

<p>The <code>require</code> function and the <code>module</code> object comes with Node and is a part of the CommonJS API:</p>

<ul>
<li>The <code>require</code> function allows us to import a module (or a file) into the current scope.</li>
<li>The <code>module</code> object allows us to export something from the current scope.</li>
</ul>

<p>In order for Webpack to work, we need to specify an entry point. Usually its the root <code>index.js</code> file but it can be whatever filename in whatever directory you like.</p>

<h4 id="output">Output</h4>

<p>Whenever we tell Webpack to bundle our assets, it also needs to know where the bundled application should live. For that, we need to specify an output property inside the <code>module.exports</code> object.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">webpack</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack&#39;</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span>  <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>);
<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
	<span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./path/to/entry/file.js&#39;</span>,
	<span style="color:#a6e22e">output</span><span style="color:#f92672">:</span> {
		<span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),
		<span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>
	}
};
</code></pre></div>

<p>We first require the <a href="https://nodejs.org/api/path.html"><code>path</code></a> module (which is also included in Node) so that it can resolve the file and directory paths for us. Then we use its <a href="https://nodejs.org/api/path.html#path_path_resolve_paths"><code>resolve</code></a> method to process the absolute path. The <a href="https://nodejs.org/api/globals.html#globals_dirname"><code>__dirname</code></a> returns the directory name of the current module.</p>

<p>The <code>filename</code> property let’s us specify the name of the file of the bundled application.
So in the code above, we say, find the <code>dist</code> directory in the current module and add a file called <code>bundle.js</code>. We don’t have this file and folder created yet, but Webpack can do it for us.</p>

<h4 id="loaders">Loaders</h4>

<p>Next, we define the Loaders. Loaders are the transformations that are applied on your code. Let’s say you use a CSS preprocessor like LESS or SASS. By default, the browser doesn’t understand its syntax, so you need a specific loader that will compile these <code>.less</code> or <code>.scss</code> files into normal CSS so that the browser can understand it.</p>

<p>There are <a href="https://webpack.js.org/loaders/">different loaders available</a> and you can install them through NPM as well:
<code>npm install --save-dev loader-name</code></p>

<p>So, in the example below, we tell webpack that for every <code>.less</code> file that it encounters (handled by the regular expression), apply these transformations.</p>

<p>(I omitted the previous code that we wrote before for brevity)
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">...
<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  ...
  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.less$/</span>,
        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">-</span><span style="color:#a6e22e">loader</span>,
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>,
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;less-loader&#39;</span>,
        }],
      },
    ],
  },
};
</code></pre></div></p>

<p>Note: after some trial and error, I found that the loaders are applied from bottom up. So the less-loader is applied first. You can read about these loaders in the <a href="https://webpack.js.org/loaders/">Webpack documentation</a>.
You can test a variety of other files such as your JS, svg, png, etc files and run a specific loader for each one.</p>

<h4 id="plugins">Plugins</h4>

<p>According to the webpack documentation, plugins are “most commonly used (but not limited to) performing actions and custom functionality on chunks of bundled modules”.</p>

<p>To put it simply: Once you’ve bundled your assets, you can do a lot of other things with those bundled assets.</p>

<p>The most common plugin that I use is <a href="https://www.npmjs.com/package/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a> that you can install via npm. This plugin creates an HTML file(s) that will serve your webpack bundles:</p>

<p><code>npm install -save-dev html-wepback-plugin</code></p>

<p>Plugins, unlike loaders, need to be required at the beginning of the file:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">htmlWebpackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;html-webpack-plugin&#39;</span>);
...
</code></pre></div>

<p>Then, in your <code>module.exports</code> object, create a new instance of HtmlWebpackPlugin object inside the plugins array:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">...
  <span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  ...
    <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span> [
      <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">HtmlWebpackPlugin</span>({
        <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./index.html&#39;</span>,
        <span style="color:#a6e22e">inject</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;body&#39;</span>,
      })
    ]
  };
</code></pre></div></p>

<p>Here, I specified a configuration object containing a template property inside the new HtmlWebpackPlugin instance. When I run webpack on the command line, HtmlWebpackPlugin takes the template HTML file and creates a new one in the <code>dist</code> folder. This new HTML file will contain our bundled assets injected at the end of the <code>body</code> tag.</p>

<h2 id="running-webpack">Running Webpack</h2>

<p>There are a couple of ways to run webpack and one of them (and probably the most convenient one) is to add a script in your <code>package.json</code> file. We don’t really need the <code>test</code> key in the scripts object so we can just replace it.</p>

<p>// package.json
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
	<span style="color:#f92672">&#34;production&#34;</span>: <span style="color:#e6db74">&#34;webpack -p&#34;</span>,
}</code></pre></div></p>

<p>Then, in the terminal, run:
<code>npm run production</code>
Then, in the terminal, run <code>npm run production</code>. This creates a production-ready file for your assets, meaning its all compiled and minified!</p>

<h4 id="bonus-webpack-dev-server">Bonus: Webpack Dev Server</h4>

<p>Probably my most favourite part of webpack (so far) is the development server. To put it simply, the webpack development server provides you with a server and live reloading.</p>

<p>Live reloading is cool because the browser reloads or refreshes the entire app every time a file changes. You don’t have to manually do it yourself!</p>

<h4 id="setting-up-the-dev-server">Setting up the dev server</h4>

<p>Install webpack dev server from npm:
<code>npm install --save-dev webpack-dev-server</code></p>

<p>Then, add another script in your <code>package.json</code> file:
<code>&quot;start&quot;: &quot;webpack-dev-server --open&quot;</code>
The <code>--open</code> flag lets you automatically open the browser on <code>http://localhost:8080</code>
Now, when you run <code>npm run start</code>, it should open a browser for you and show you a page with the &ldquo;Hello World&rdquo; text on it!</p>

<h2 id="conclusion">Conclusion</h2>

<p>And there you have it! This setup is pretty basic but there’s already so much you can do with this simple configuration. Webpack is a very powerful module bundler and it does tons of other awesome things so I recommend that you check out their documentation, play around and have fun!</p>

<h4 id="where-to-go-from-here">Where to go from here</h4>

<p>Try fiddling around with Webpack a little more by setting up a configuration for your JS files. For example, if you want to use the <a href="http://es6-features.org/#Constants"><code>ES6 syntax</code></a>, you have to install a couple of loaders from <a href="https://babeljs.io/"><code>Babel</code></a> via npm. If you want to use a library or a framework, just read their docs; they usually have handy sections on how to get started.</p>
<ul class="pa0">
  
</ul>
<div class="mt6">
        
      </div>
    </main>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bottom-0 w-100 pa3 bg-light-yellow" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 black no-underline dn dib-ns pv2 ph3" href="https://www.charisseysabel.com/" >
    &copy; 2018 Charisse Writes
  </a>
    <div>








</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
